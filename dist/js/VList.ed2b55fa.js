import{s as V,j as B,e,A as s,f as I,o as n,c as o,a as c,z as d,i as r,F as M,k as b,t as z}from"./index.03c44043.js";import{throttle as A}from"lodash-es";import{_ as E}from"./_plugin-vue_export-helper.c27b6911.js";const p={};p.getList=function(a){return V({url:"/api/list/1",method:"get"})};const F={__name:"VList",setup(m){const a=B({page:1,list:[]}),t=e(),g=e(),f=async()=>{const{data:_}=await p.getList();a.list=_.data},u=e(0),l=e(60),h=s(()=>l.value*a.list.length),i=e(0),L=s(()=>Math.ceil(u.value/l.value)),v=s(()=>Math.floor(i.value/l.value)),y=s(()=>a.list.slice(v.value,v.value+L.value+1)),x=s(()=>i.value-i.value%l.value);return I(()=>{u.value=t.value.clientHeight,f(),console.log(t.value.clientHeight),t.value.addEventListener("scroll",A(()=>{i.value=t.value.scrollTop},100))}),(_,S)=>(n(),o("div",{class:"v-list-container",ref_key:"list",ref:t},[c("div",{class:"v-list-scrollbar",style:d({height:r(h)+"px"})},null,4),c("div",{class:"v-list-main",ref_key:"listmain",ref:g,style:d({transform:`translateY(${r(x)}px)`})},[(n(!0),o(M,null,b(r(y),({name:k,id:H})=>(n(),o("div",{class:"v-list-item",key:H},[c("div",null,z(k),1)]))),128))],4)],512))}},C=E(F,[["__scopeId","data-v-6c6936c8"]]);export{C as default};
